generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      =  env("DATABASE_URL")
}


enum Status {
  ACTIVE
  INACTIVE
  DETAILS_SUBMISSION_INCOMPLETE
  DETAILS_SUBMISSION_COMPLETED
  REJECTED
}


model Vendor {
  id                  Int             @unique
  profilePicture      String?
  firstName           String
  lastName            String
  phoneNumber         String
  businessAdminId     Int
  status              Status          @default(ACTIVE)
  createdAt           DateTime        @default(now())
  updatedAt           DateTime?       @updatedAt
  business            Business?       @relation("VendorBusiness")
}


model Business {
  id                  Int                  @id @default(autoincrement())
  address             Address?             @relation("BusinessAddress", fields: [addressId], references: [id])
  addressId           Int?             
  vendor              Vendor               @relation("VendorBusiness", fields: [vendorId], references: [id])
  vendorId            Int                  @unique
  businessName        String?
  mobileNumber        String?
  email               String?
  generalDetail       String?
  dateOfEstablishment DateTime?
  areaDescription     String?
  vendorBusinessType  Int?      
  insured             Boolean?
  licensed            Boolean?
  grossAnnualSale     Int?
  currency            String?
  bankName            String?
  beneficiaryName     String?
  accountNumber       String?
  businessRegCert     String?
  identityProof       String?
  addressProof        String?
  formStep            Int
  createdAt           DateTime             @default(now())
  updatedAt           DateTime?            @updatedAt
}


model Address {
  id              Int           @id @default(autoincrement())
  landmark        String
  street1         String
  street2         String
  city            String
  state           String
  zipCode         String
  country         String
  latitude        Float?       
  longitude       Float?
  createdAt       DateTime      @default(now())
  updatedAt       DateTime?     @updatedAt
  business        Business[]    @relation("BusinessAddress")
}


model BusinessCategory {
  categoryId       Int               @id @default(autoincrement())
  name             String
  description      String
  status           Status            @default(ACTIVE)
  createdAt        DateTime          @default(now())
  updatedAt        DateTime?         @updatedAt
}